<a id="sessionID" href="#"></a>

<script>
    function generateRandomString(length) {
        const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
        let result = '';
        for (let i = 0; i < length; i++) {
        result += characters.charAt(Math.floor(Math.random() * characters.length));
        }
        return result;
    }

    function updateUrlWithSessionId() {
        const url = new URL(window.location.href);
        let sessionId = url.searchParams.get("session_id");

        if (!sessionId) {
        sessionId = generateRandomString(16);
        url.searchParams.set("session_id", sessionId);
        window.history.replaceState({}, '', url);
        }

        if (sessionLink) {
        sessionLink.href = `?${url.searchParams.toString()}`;
        }
    }

    window.addEventListener('DOMContentLoaded', updateUrlWithSessionId);
</script>
